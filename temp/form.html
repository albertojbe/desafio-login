<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entrar</title>

    <!-- Importando Bootstrap e Font Awesome-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <main id="#bg-main" class="vh-100 d-flex justify-content-center align-items-center bg-dark">
        <div class="d-block justify-content-center align-items-center bg-light rounded-2" style="width: 500px;">
            <div class="card-body p-5">
                
                <div class="text-center border-bottom border-2 mb-4">
                    <h4>DESAFIO LOGIN</h4>
                </div>

                <form action="https://www.google.com.br/?hl=pt-BR">
                    <div class="box-message mb-4 text-center">
                        <p style="font-size: 15px;">Informe os dados requeridos</p>
                    </div>
                    
                    <!-- Mensagens de erro para validações -->
                    <p id="mensagem-senhas" class="alert alert-danger pt-1 pb-1" hidden>As senhas não são iguais</p>
                    <p id="mensagem-campos-vazios" class="alert alert-danger pt-1 pb-1" hidden>Preencha os campos vazios</p>

                    <!-- Campos do formulário -->
                    <div class="input-group mb-4">
                        <label for="email" class="input-group-text"><i class="fa-solid fa-envelope"></i></label>
                        <input id="email" type="email" class="form-control" placeholder="E-mail">
                    </div>
                    <div class="input-group mb-4">
                        <label for="nome" class="input-group-text"><i class="fa-solid fa-user"></i></label>
                        <input id="nome" type="text" class="form-control" placeholder="Nome">
                    </div>
                    <div class="input-group mb-4">
                        <label for="senha" class="input-group-text"> <i class="fa-solid fa-lock"></i> </label>
                        <input id="senha" type="password" class="form-control" placeholder="Senha">
                        <span class="input-group-text"> <i id="eye-password-1" class="fa-solid fa-eye-slash"> </i></span>
                    </div>
                    <div class="input-group mb-4">
                        <label for="senha-repetida" class="input-group-text"><i class="fa-solid fa-lock"></i></label>
                        <input id="senha-repetida" type="password" class="form-control" placeholder="Repita sua senha">
                        <span class="input-group-text"> <i id="eye-password-2" class="fa-solid fa-eye-slash"> </i></span>
                    </div>
                    <div class="button-box d-flex justify-content-end">
                        <button id="botao-registrar" style="position: relative; right: 0;" type="submit" class="btn btn-primary">Registrar</button>
                    </div>
                </form>
                
                <!-- Link para cancelar registro e voltar para tela de login -->
                <a style="text-decoration: none;" href="#">Cancelar</a>
            </div>
        </div>
    </main>
</body>

<!-- Script para validações -->
<script>
    // Selecionando elementos que serão verificados
    const senha = document.querySelector("#senha")
    const senhaRepetida = document.querySelector("#senha-repetida")
    const form = document.querySelector("form")
    const mensagemSenhas = document.querySelector("#mensagem-senhas")
    const mensagemCamposVazios = document.querySelector("#mensagem-campos-vazios")
    
    // Funçãopara verificar se há campos vazios
    function verificarCamposVazios(form, e) {
        const campos = form.querySelectorAll("input")
        for (campo of campos) {
            if (campo.value === "") {
                return true
            } 
        }
        return false
    } 

    // Adicionando função para executrar quando o form for submetido. Caso alguma validação não passe a submissão não irá acontecer.
    form.addEventListener("submit", (e) => {
        console.log(verificarCamposVazios)
        let temCamposVazios = false

        // verificando se a senhas são iguais
        if (senha.value !== senhaRepetida.value) {
            e.preventDefault()
            mensagemSenhas.removeAttribute("hidden")
        }
        else {
            mensagemSenhas.setAttribute("hidden", "")
        }
        
        // verificando se há campos vazios
        if (verificarCamposVazios(form, e)) {
            e.preventDefault()
            mensagemCamposVazios.removeAttribute("hidden")
        }
        else {
            mensagemCamposVazios.setAttribute("hidden", "")
        }
    })

    // Função para alterar visibilidade da senha quando o icone for clicado
    function alterarVisibilidadeSenha(idIcone, idInputSenha) {
        const inputSenha = document.querySelector(idInputSenha)
        const icone = document.querySelector(idIcone)
        let mostrarSenha = false

        icone.addEventListener("click", () => {
            mostrarSenha = !mostrarSenha
            icone.className = mostrarSenha ? "fa-solid fa-eye-slash" : "fa-solid fa-eye"
            inputSenha.type = mostrarSenha ? "password" : "text"
        })
    }
    
    // Chamando a função para os dois campos senha
    alterarVisibilidadeSenha("#eye-password-1", "#senha");
    alterarVisibilidadeSenha("#eye-password-2", "#senha-repetida");
</script>

<!-- Importando script bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</html>
